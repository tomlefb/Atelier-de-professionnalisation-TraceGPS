{
  "openapi": "3.0.0",
  "info": {
    "title": "API TraceGPS",
    "version": "1.0.0",
    "description": "Documentation interactive des services TraceGPS"
  },
  "servers": [
    {
      "url": "http://localhost/ws-php-dp/TraceGPS/src/api",
      "description": "Serveur local"
    }
  ],
  "paths": {
    "/ChangerDeMdp": {
      "get": {
        "summary": "Changer le mot de passe",
        "description": "Permet à un utilisateur de changer son mot de passe en fournissant son pseudo, l'ancien mot de passe et le nouveau mot de passe.\n\n**Exemple de test :**\n- Pseudo : `callisto`\n- Ancien mot de passe (SHA-1) : `5baa61e4c9b93f3f0682250b6cf8331b` (hash pour 'password')\n- Nouveau mot de passe : `newpassword`",
        "parameters": [
          {
            "name": "pseudo",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'utilisateur.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mdp",
            "in": "query",
            "required": true,
            "description": "L'ancien mot de passe de l'utilisateur, hashé en SHA-1.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "nouveauMdp",
            "in": "query",
            "required": true,
            "description": "Le nouveau mot de passe de l'utilisateur.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "confirmationMdp",
            "in": "query",
            "required": true,
            "description": "Confirmation du nouveau mot de passe.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "description": "Langue du flux de réponse (xml ou json). Par défaut, xml.",
            "schema": {
              "type": "string",
              "enum": [
                "xml",
                "json"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mot de passe changé avec succès",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Enregistrement effectué ; vous allez recevoir un courriel de confirmation."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Enregistrement effectué ; vous allez recevoir un courriel de confirmation.</reponse></data>"
              }
            }
          },
          "400": {
            "description": "Données incomplètes ou incorrectes",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : données incomplètes."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : données incomplètes.</reponse></data>"
              }
            }
          },
          "401": {
            "description": "Authentification incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : authentification incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : authentification incorrecte.</reponse></data>"
              }
            }
          },
          "406": {
            "description": "Méthode HTTP incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : méthode HTTP incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : méthode HTTP incorrecte.</reponse></data>"
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : problème lors de l'enregistrement du mot de passe."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : problème lors de l'enregistrement du mot de passe.</reponse></data>"
              }
            }
          }
        }
      }
    },
    "/Connecter": {
      "get": {
        "summary": "Authentifier un utilisateur",
        "description": "Permet à un utilisateur de s'authentifier en fournissant son pseudo et son mot de passe hashé en SHA-1.\n\n**Exemple de test :**\n- Pseudo : `callisto`\n- Mot de passe (SHA-1) : `5baa61e4c9b93f3f0682250b6cf8331b`",
        "parameters": [
          {
            "name": "pseudo",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'utilisateur.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mdp",
            "in": "query",
            "required": true,
            "description": "Le mot de passe hashé en SHA-1.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "description": "Langue du flux de réponse (xml ou json). Par défaut, xml.",
            "schema": {
              "type": "string",
              "enum": [
                "xml",
                "json"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Utilisateur ou administrateur authentifié",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Utilisateur authentifié."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Utilisateur authentifié.</reponse></data>"
              }
            }
          },
          "400": {
            "description": "Données incomplètes",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : données incomplètes."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : données incomplètes.</reponse></data>"
              }
            }
          },
          "401": {
            "description": "Authentification incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : authentification incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : authentification incorrecte.</reponse></data>"
              }
            }
          },
          "406": {
            "description": "Méthode HTTP incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : méthode HTTP incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : méthode HTTP incorrecte.</reponse></data>"
              }
            }
          }
        }
      }
    },
    "/CreerUnUtilisateur": {
      "get": {
        "summary": "Créer un compte utilisateur",
        "description": "Permet à un utilisateur de se créer un compte en fournissant un pseudo, une adresse mail et un numéro de téléphone.\n\n**Exemple de test :**\n- Pseudo : `newuser`\n- Adresse mail : `newuser@example.com`\n- Numéro de téléphone : `1234567890`",
        "parameters": [
          {
            "name": "pseudo",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'utilisateur. Doit être unique et contenir au moins 8 caractères.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "adrMail",
            "in": "query",
            "required": true,
            "description": "L'adresse email de l'utilisateur. Doit être unique et valide.",
            "schema": {
              "type": "string",
              "format": "email"
            }
          },
          {
            "name": "numTel",
            "in": "query",
            "required": true,
            "description": "Le numéro de téléphone de l'utilisateur. Doit être valide.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "description": "Langue du flux de réponse (xml ou json). Par défaut : xml.",
            "schema": {
              "type": "string",
              "enum": [
                "xml",
                "json"
              ]
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Compte créé avec succès",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Enregistrement effectué ; vous allez recevoir un courriel avec votre mot de passe."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Enregistrement effectué ; vous allez recevoir un courriel avec votre mot de passe.</reponse></data>"
              }
            }
          },
          "400": {
            "description": "Données incomplètes ou incorrectes",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : pseudo trop court (8 car minimum) ou déjà existant."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : pseudo trop court (8 car minimum) ou déjà existant.</reponse></data>"
              }
            }
          },
          "406": {
            "description": "Méthode HTTP incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : méthode HTTP incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : méthode HTTP incorrecte.</reponse></data>"
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : problème lors de l'enregistrement."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : problème lors de l'enregistrement.</reponse></data>"
              }
            }
          }
        }
      }
    },
    "/GetTousLesUtilisateurs": {
      "get": {
        "summary": "Obtenir la liste de tous les utilisateurs",
        "description": "Permet à un utilisateur authentifié d'obtenir la liste de tous les utilisateurs (de niveau 1).\n\n**Exemple de test :**\n- Pseudo : `admin`\n- Mot de passe (SHA-1) : `d033e22ae348aeb5660fc2140aec35850c4da997` (hash pour 'adminpass')",
        "parameters": [
          {
            "name": "pseudo",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'utilisateur authentifié.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mdp",
            "in": "query",
            "required": true,
            "description": "Le mot de passe hashé en SHA-1 de l'utilisateur authentifié.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "description": "Langue du flux de réponse (xml ou json). Par défaut : xml.",
            "schema": {
              "type": "string",
              "enum": [
                "xml",
                "json"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des utilisateurs récupérée avec succès",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "2 utilisateur(s).",
                    "donnees": {
                      "lesUtilisateurs": [
                        {
                          "id": 2,
                          "pseudo": "callisto",
                          "adrMail": "delasalle.sio.eleves@gmail.com",
                          "numTel": "22.33.44.55.66",
                          "niveau": 1,
                          "dateCreation": "2018-08-12 19:45:23",
                          "nbTraces": 2,
                          "dateDerniereTrace": "2018-01-19 13:08:48"
                        },
                        {
                          "id": 3,
                          "pseudo": "europa",
                          "adrMail": "delasalle.sio.eleves@gmail.com",
                          "numTel": "22.33.44.55.66",
                          "niveau": 1,
                          "dateCreation": "2018-08-12 19:45:23",
                          "nbTraces": 0
                        }
                      ]
                    }
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>2 utilisateur(s).</reponse><donnees><lesUtilisateurs><utilisateur><id>2</id><pseudo>callisto</pseudo><adrMail>delasalle.sio.eleves@gmail.com</adrMail><numTel>22.33.44.55.66</numTel><niveau>1</niveau><dateCreation>2018-08-12 19:45:23</dateCreation><nbTraces>2</nbTraces><dateDerniereTrace>2018-01-19 13:08:48</dateDerniereTrace></utilisateur><utilisateur><id>3</id><pseudo>europa</pseudo><adrMail>delasalle.sio.eleves@gmail.com</adrMail><numTel>22.33.44.55.66</numTel><niveau>1</niveau><dateCreation>2018-08-12 19:45:23</dateCreation><nbTraces>0</nbTraces></utilisateur></lesUtilisateurs></donnees></data>"
              }
            }
          },
          "400": {
            "description": "Données incomplètes ou incorrectes",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : données incomplètes."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : données incomplètes.</reponse></data>"
              }
            }
          },
          "401": {
            "description": "Authentification incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : authentification incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : authentification incorrecte.</reponse></data>"
              }
            }
          },
          "406": {
            "description": "Méthode HTTP incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : méthode HTTP incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : méthode HTTP incorrecte.</reponse></data>"
              }
            }
          }
        }
      }
    },
    "/SupprimerUnUtilisateur": {
      "get": {
        "summary": "Supprimer un utilisateur",
        "description": "Permet à un administrateur de supprimer un utilisateur (à condition qu'il ne possède aucune trace enregistrée).\n\n**Exemple de test :**\n- Pseudo administrateur : `admin`\n- Mot de passe administrateur (SHA-1) : `d033e22ae348aeb5660fc2140aec35850c4da997`\n- Pseudo de l'utilisateur à supprimer : `usertodelete`",
        "parameters": [
          {
            "name": "pseudo",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'administrateur.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mdp",
            "in": "query",
            "required": true,
            "description": "Le mot de passe hashé en SHA-1 de l'administrateur.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pseudoAsupprimer",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'utilisateur à supprimer.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "description": "Langue du flux de réponse (xml ou json). Par défaut : xml.",
            "schema": {
              "type": "string",
              "enum": [
                "xml",
                "json"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Suppression effectuée avec succès",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Suppression effectuée ; un courriel va être envoyé à l'utilisateur."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Suppression effectuée ; un courriel va être envoyé à l'utilisateur.</reponse></data>"
              }
            }
          },
          "400": {
            "description": "Données incomplètes ou suppression impossible",
            "content": {
              "application/json": {
                "examples": {
                  "incomplete_data": {
                    "summary": "Données incomplètes",
                    "value": {
                      "data": {
                        "reponse": "Erreur : données incomplètes."
                      }
                    }
                  },
                  "deletion_impossible": {
                    "summary": "Suppression impossible",
                    "value": {
                      "data": {
                        "reponse": "Erreur : suppression impossible ; cet utilisateur possède encore des traces."
                      }
                    }
                  }
                }
              },
              "application/xml": {
                "examples": {
                  "incomplete_data": {
                    "summary": "Données incomplètes",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : données incomplètes.</reponse></data>"
                  },
                  "deletion_impossible": {
                    "summary": "Suppression impossible",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : suppression impossible ; cet utilisateur possède encore des traces.</reponse></data>"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Authentification incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : authentification incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : authentification incorrecte.</reponse></data>"
              }
            }
          },
          "406": {
            "description": "Méthode HTTP incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : méthode HTTP incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : méthode HTTP incorrecte.</reponse></data>"
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : problème lors de la suppression de l'utilisateur."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : problème lors de la suppression de l'utilisateur.</reponse></data>"
              }
            }
          }
        }
      }
    },
    "/ArreterEnregistrementParcours": {
      "get": {
        "summary": "Terminer un enregistrement de parcours",
        "description": "Ce service permet à un utilisateur authentifié de terminer l'enregistrement d'un parcours.\n\n**Exemple de test :**\n- Pseudo : `callisto`\n- Mot de passe (SHA-1) : `5baa61e4c9b93f3f0682250b6cf8331b`\n- ID Trace : `23`",
        "parameters": [
          {
            "name": "pseudo",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'utilisateur.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mdp",
            "in": "query",
            "required": true,
            "description": "Le mot de passe de l'utilisateur hashé en SHA-1.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "idTrace",
            "in": "query",
            "required": true,
            "description": "L'identifiant de la trace à terminer.",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "description": "Langue du flux de réponse (xml ou json). Par défaut, xml.",
            "schema": {
              "type": "string",
              "enum": [
                "xml",
                "json"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Enregistrement terminé",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Enregistrement terminé."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Enregistrement terminé.</reponse></data>"
              }
            }
          },
          "400": {
            "description": "Données incomplètes ou incorrectes",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : données incomplètes."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : données incomplètes.</reponse></data>"
              }
            }
          },
          "401": {
            "description": "Authentification incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : authentification incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : authentification incorrecte.</reponse></data>"
              }
            }
          },
          "406": {
            "description": "Méthode HTTP incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : méthode HTTP incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : méthode HTTP incorrecte.</reponse></data>"
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : problème lors de la fin de l'enregistrement de la trace."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : problème lors de la fin de l'enregistrement de la trace.</reponse></data>"
              }
            }
          }
        }
      }
    },
    "/DemarrerEnregistrementParcours": {
      "get": {
        "summary": "Démarrer un enregistrement de parcours",
        "description": "Ce service permet à un utilisateur authentifié de démarrer l'enregistrement d'un parcours.\n\n**Exemple de test :**\n- Pseudo : `callisto`\n- Mot de passe (SHA-1) : `5baa61e4c9b93f3f0682250b6cf8331b`",
        "parameters": [
          {
            "name": "pseudo",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'utilisateur.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mdp",
            "in": "query",
            "required": true,
            "description": "Le mot de passe de l'utilisateur hashé en SHA-1.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "description": "Langue du flux de réponse (xml ou json). Par défaut, xml.",
            "schema": {
              "type": "string",
              "enum": [
                "xml",
                "json"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trace créée",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Trace créée.",
                    "donnees": {
                      "trace": {
                        "id": 23,
                        "dateHeureDebut": "2022-08-15 10:12:34",
                        "terminee": 0,
                        "idUtilisateur": 3
                      }
                    }
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Trace créée.</reponse><donnees><trace><id>23</id><dateHeureDebut>2022-08-15 10:12:34</dateHeureDebut><terminee>0</terminee><idUtilisateur>3</idUtilisateur></trace></donnees></data>"
              }
            }
          },
          "400": {
            "description": "Données incomplètes ou incorrectes",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : données incomplètes."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : données incomplètes.</reponse></data>"
              }
            }
          },
          "401": {
            "description": "Authentification incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : authentification incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : authentification incorrecte.</reponse></data>"
              }
            }
          },
          "406": {
            "description": "Méthode HTTP incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : méthode HTTP incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : méthode HTTP incorrecte.</reponse></data>"
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : problème lors de la création de la trace."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : problème lors de la création de la trace.</reponse></data>"
              }
            }
          }
        }
      }
    },
    "/SupprimerUnParcours": {
      "get": {
        "summary": "Supprimer un parcours",
        "description": "Ce service permet à un utilisateur authentifié de supprimer un de ses parcours.\n\n**Exemple de test :**\n- Pseudo : `callisto`\n- Mot de passe (SHA-1) : `5baa61e4c9b93f3f0682250b6cf8331b`\n- ID Trace : `23`",        "parameters": [
          {
            "name": "pseudo",
            "in": "query",
            "required": true,
            "description": "Le pseudo de l'utilisateur qui demande à supprimer.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mdp",
            "in": "query",
            "required": true,
            "description": "Le mot de passe de l'utilisateur hashé en SHA-1.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "idTrace",
            "in": "query",
            "required": true,
            "description": "L'identifiant de la trace à supprimer.",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "description": "Langue du flux de réponse (xml ou json). Par défaut, xml.",
            "schema": {
              "type": "string",
              "enum": [
                "xml",
                "json"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Parcours supprimé",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Parcours supprimé."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Parcours supprimé.</reponse></data>"
              }
            }
          },
          "400": {
            "description": "Données incomplètes ou incorrectes",
            "content": {
              "application/json": {
                "examples": {
                  "incomplete_data": {
                    "summary": "Données incomplètes",
                    "value": {
                      "data": {
                        "reponse": "Erreur : données incomplètes."
                      }
                    }
                  },
                  "non_existent_trace": {
                    "summary": "Parcours inexistant",
                    "value": {
                      "data": {
                        "reponse": "Erreur : parcours inexistant."
                      }
                    }
                  },
                  "not_owner": {
                    "summary": "Non propriétaire du parcours",
                    "value": {
                      "data": {
                        "reponse": "Erreur : vous n'êtes pas le propriétaire de ce parcours."
                      }
                    }
                  }
                }
              },
              "application/xml": {
                "examples": {
                  "incomplete_data": {
                    "summary": "Données incomplètes",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : données incomplètes.</reponse></data>"
                  },
                  "non_existent_trace": {
                    "summary": "Parcours inexistant",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : parcours inexistant.</reponse></data>"
                  },
                  "not_owner": {
                    "summary": "Non propriétaire du parcours",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : vous n'êtes pas le propriétaire de ce parcours.</reponse></data>"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Authentification incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : authentification incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : authentification incorrecte.</reponse></data>"
              }
            }
          },
          "406": {
            "description": "Méthode HTTP incorrecte",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : méthode HTTP incorrecte."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : méthode HTTP incorrecte.</reponse></data>"
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur lors de la suppression",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "reponse": "Erreur : problème lors de la suppression du parcours."
                  }
                }
              },
              "application/xml": {
                "example": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><data><reponse>Erreur : problème lors de la suppression du parcours.</reponse></data>"
              }
            }
          }
        }
      }
    }
  }
}
